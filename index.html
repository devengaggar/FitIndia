<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FitIndia.pro — Practical Health for Busy Indians</title>
  <meta name="description" content="BMI & Waist–Hip calculators, 30-day plan, AI calorie tracker, services, expert dieticians, careers, and 1:1 scheduling." />

  <!-- =================== STYLES =================== -->
  <style>
    :root{
      --white:#ffffff; --offwhite:#e2e2e2;
      --ink:#0f172a; --muted:#475569; --line:#e5e7eb;
      ; --green:#046a38; --orange:#ff671f; --yellow:#fde047;
      --navy:#000080;--blue:#6991ff;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:#fff;color:var(--ink);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Helvetica,Arial,sans-serif}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;height:auto}
    .wrap{max-width:1140px;margin:0 auto;padding:0 20px}

    /* =================== NAV =================== */
    .nav{
      position: sticky;
      top: 0;
      background: #fff;
      border-bottom: 1px solid var(--line);
      z-index: 90;
      height: 60px;              /* fixed bar height (unchanged) */
    }
    .nav-inner{
      height: 100%;
      display: flex;
      align-items: center;       /* vertical centering for all children */
      justify-content: space-between;
      gap: 12px;
      /* no vertical padding so bar stays 60px */
    }

    /* ---- BIG LOGO without changing navbar height ---- */
    .brand-logo{
      position: relative;
      height: 100%;              /* matches 60px bar */
      width: 15%;              /* reserves layout space so tabs don't collide; tweak as needed */
      display: block;
      /* Optional: if you don't want the logo to overlap tabs when narrowed, reduce width */
    }
    .brand-logo img{
      position: absolute;
      left: 0; right: 0;         /* horizontally center via translateX below */
      top: 50%;
      transform: translateY(-50%); /* perfect vertical center */
      height: 60px;              /* 👈 bigger than navbar (increase/decrease as desired) */
      width: auto;
      display: block;            /* avoid baseline issues */
      margin: 0;            /* horizontal centering when left/right set */
      pointer-events: auto;
    }

    /* NAV links */
/* Dropdown container */
.dropdown {
  position: relative;
  display: inline-block;
}

/* Dropdown trigger (looks like other nav links) */
.dropbtn {
  display: inline-block;
  padding: 8px 10px;
  border-radius: 10px;
  color: var(--muted);
  font-weight: 700;
  text-decoration: none;   /* behave like <a> */
}

/* Hover matches other links */
.dropbtn:hover {
  background: #f8fafc;
  color: #0b1324;
}

/* Dropdown content */
.dropdown-content {
  display: none;
  position: absolute;
  top: 100%;
  left: 0;
  background: #fff;
  min-width: 140px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
  border: 1px solid var(--line);
  border-radius: 8px;
  z-index: 999;
}

.dropdown-content a {
  display: block;
  padding: 8px 12px;
  color: var(--muted);
  font-weight: 600;
  border-radius: 6px;
}

.dropdown-content a:hover {
  background: #f8fafc;
  color: #0b1324;
}

/* Show dropdown on hover */
.dropdown:hover .dropdown-content {
  display: block;
}

    .tabs{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
    .tabs a{padding:8px 10px;border-radius:10px;color:var(--muted);font-weight:700;line-height:1}
    .tabs a:hover{background:#f8fafc;color:#0b1324}
    .tabs a.active{background:#eef2ff;color:#0b1324}

    .cta{display:flex;gap:10px;align-items:center}
    .btn{padding:10px 14px;border-radius:12px;border:1px solid var(--line);background:#fff;font-weight:800;cursor:pointer;}
    .btn.primary{background:linear-gradient(180deg,var(--ink));color:#ffffff;border:0}

    /* TIP FADER (kept for future use) */
    .tips{border-bottom:1px solid var(--line);background:#fffef0}
    .tips-inner{min-height:44px;display:flex;align-items:center}
    .tip{opacity:0;transform:translateY(6px);transition:opacity .6s ease,transform .6s ease;font-weight:800;color:#3f2d00;display:inline-flex;gap:8px;align-items:center;background:#fff6b0;border:1px dashed #eab308;padding:6px 10px;border-radius:999px}
    .tip.show{opacity:1;transform:translateY(0)}
	
    /* HERO */
    .hero{background:linear-gradient(180deg,#fff,var(--blue) 100%)}
    .hero-grid{display:grid;grid-template-columns:1.2fr .8fr;gap:24px;height:250px;padding:36px 0}
    @media(max-width:900px){.hero-grid{grid-template-columns:1fr}}
    h1{font-size:clamp(1.7rem,3.6vw,2.6rem);margin:0 0 10px}
    .sub{color:#0b1324b0}
    .hero-card{background:#fff;border:1px solid var(--line);border-radius:18px;padding:18px}

    /* SECTIONS */
    section{padding:40px 0;border-bottom:1px solid var(--line)}
    .section-title{font-size:clamp(1.2rem,2.3vw,1.7rem);margin:0 0 12px;display:flex;align-items:center;gap:10px}
    .dot{width:10px;height:10px;border-radius:50%;background:var(--yellow);box-shadow:0 0 0 6px rgba(253,224,71,.35)}
    .muted{color:var(--muted)}
    .grid3{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
    @media(max-width:900px){.grid3{grid-template-columns:1fr}}
    .card{background:#f1f5f9;border:1px solid var(--line);border-radius:16px;padding:16px}
    .card img{width:100%;height:160px;object-fit:cover;border-radius:12px;margin-bottom:10px;background:#f1f5f9}

    /* DIETICIANS grid main */
    .diet-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
    @media(max-width:900px){.diet-grid{grid-template-columns:1fr}}

    /* PLAN OUTPUT */
    #plan{display:none}
    .pill{display:inline-block;padding:6px 10px;border-radius:999px;background:#f8fafc;border:1px solid var(--line);font-weight:700;color:var(--muted)}
    .pill.ok{background:#dcfce7;border-color:#bbf7d0}
    .pill.warn{background:#fff6b0;border:1px dashed #eab308;color:#3f2d00}
    .pill.risk{background:#fee2e2;border-color:#fecaca}

    .field label{display:block;font-weight:700;margin:0 0 6px}
    .field input,.field select,.field textarea{width:100%;padding:12px;border-radius:10px;border:1px solid var(--line);background:#fff;color:inherit}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:16px}
    @media(max-width:900px){.row{grid-template-columns:1fr}}

    /* ===== Testimonials ===== */
    .t-wrap{position:relative}
    .t-track{display:flex;gap:16px;overflow-x:auto;scroll-snap-type:x mandatory;scroll-behavior:smooth;padding-bottom:8px;scrollbar-width:none}
    .t-card{min-width:320px;flex:0 0 320px;scroll-snap-align:center;background:#f5f5f5;border:1px solid #e5e7eb;border-radius:16px;padding:16px}
    .t-card blockquote{margin:0 0 8px 0;line-height:1.6}
    .t-card figcaption{color:#475569}
    .t-nav{position:absolute;inset:0;pointer-events:none}
    .t-btn{position:absolute;top:40%;transform:translateY(-50%);pointer-events:auto;border:1px solid #e5e7eb;border-radius:999px;background:#fff;padding:8px 10px;cursor:pointer}
    .t-btn.prev{left:-6px}
    .t-btn.next{right:-6px}
    .t-dots{display:flex;gap:6px;justify-content:center;margin-top:8px}
    .t-dot{width:6px;height:6px;border-radius:50%;background:#cbd5e1;opacity:.9}
    .t-dot.active{background:#0f172a}
    .t-track::-webkit-scrollbar{display:none}

    /* DIALOGS */
    dialog{border:1px solid var(--line);border-radius:16px;padding:0;max-width:560px;width:92%}
    dialog::backdrop{background:rgba(2,6,23,.35)}
    dialog[open]{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:9999;box-shadow:0 20px 60px rgba(2,6,23,.25)}
    .dlg-backdrop{position:fixed;inset:0;background:rgba(2,6,23,.35);z-index:9998}
    .dlg-hd{padding:16px;border-bottom:1px solid var(--line);display:flex;justify-content:space-between;align-items:center}
    .dlg-bd{padding:16px}
    textarea{min-height:80px}
    .tabbar{display:flex;gap:6px;margin-bottom:10px}
    .tabbar button{flex:1}

    /* FOOTER */
    footer{background:#0b1324;color:#dbeafe}
    .foot{display:grid;grid-template-columns:2fr 1fr 1fr;gap:20px;padding:28px 0}
    @media(max-width:900px){.foot{grid-template-columns:1fr}}
    .social{display:flex;gap:12px;flex-wrap:wrap}
    .social a{display:inline-flex;align-items:center;gap:6px;background:#0a1228;border:1px solid #1e3a8a;border-radius:999px;padding:6px 10px;color:#c7d2fe}
    .credit{border-top:1px solid #172554;padding:12px 0;color:#9db2d8}
  </style>
</head>

<body>
 <!-- NAV -->
  <nav class="nav" aria-label="Primary">
    <div class="wrap nav-inner">
      <!-- NOTE: Use a relative path in production; file:// only for local testing -->
      <a href="index.html" class="brand-logo" aria-label="FitIndia Home">
        <img
          src="img/Fit-India-Logo.png"
          alt="FitIndia.pro logo">
      </a>

    <div class="tabs" role="navigation" aria-label="Primary links">
  <a id="homeTop" href="index.html" target="_self">Home</a>
  <a id="servicesTop" href="services.html" target="_self">Services</a>
   <a id="AnnouncementsTop" href="Announcements.html" target="_self">Announcements</a>

  <!-- TOOLS DROPDOWN -->
 <div class="dropdown">
  <a href="#" class="dropbtn">Tools ▾</a>
  <div class="dropdown-content">
    <a id="navBMI" href="Bmi-cal.html" target="_self">BMI</a>
    <a id="navWHR" href="WHR.html" target="_self">WHR</a>
  </div>
</div>


  <a id="aboutTop" href="about-us.html" target="_self">About Us</a>
</div>

    
  </div>
</nav>


  <!-- HERO -->
  <header id="home" class="hero">
    <div class="wrap hero-grid">
      <div>
        <h1>Practical health for busy Indians.</h1>
        <p class="sub">India’s first practical health companion — made for your plate, your pace, and your routine.</p>
        <div class="cta" style="margin-top:12px;flex-wrap:wrap">
          <button class="btn primary" id="openBMI" type="button">Check BMI</button>
          <button class="btn" id="openwhr" type="button">Check WHR</button>
        </div>
      </div>
      <div class="hero-card">
        <h3 style="margin:0 0 8px">What you get</h3>
        <ul style="margin:0 0 8px 18px;line-height:1.65">
          <li>BMI + Waist–Hip Ratio calculators</li>
          <li>Advice & 30-day plan (exercise, steps, mental health tips) + continued support</li>
        </ul>
      </div>
    </div>
  </header>

<!-- ANNOUNCEMENTS (grid of 3) -->
<section id="Announcements">
  <div class="wrap">
    <h2 class="section-title"><span class="dot"></span>Announcements</h2>

    <div class="grid3">
      <!-- 1) Marathon -->
     <a class="card" href="https://example.com/mumbai-marathon" target="_blank" rel="noopener">
  <img loading="lazy"
       src="https://images.unsplash.com/photo-1605296867304-46d5465a13f1"
       alt="Mumbai City Marathon 2025">
  <h3>Mumbai City Marathon 2025</h3>
  <p class="muted">📅 12th October 2025</p>
  <p>Join the annual marathon promoting fitness and community spirit. Registrations open now!</p>
</a>


      <!-- 2) Workshop (local image) -->
      <a class="card" href="https://example.com/mumbai-marathon" target="_blank" rel="noopener">
        <img loading="lazy"
             src="img/debby-hudson-U-O9DCDI4E8-unsplash.jpg"
             alt="Nutrition Workshop: Eat Right Everyday">
        <h3>Nutrition Workshop: Eat Right Everyday</h3>
        <p class="muted">📅 5th September 2025</p>
        <p>A hands-on session with expert dieticians on building sustainable Indian meal plans.</p>
      </a>

      <!-- 3) Yoga Day (local image) -->
      <a class="card" href="https://example.com/mumbai-marathon" target="_blank" rel="noopener">
        <img loading="lazy"
             src="img/joydeep-sensarma-utyOEK4GwDM-unsplash.jpg"
             alt="International Yoga Day Celebration">
        <h3>International Yoga Day Celebration</h3>
        <p class="muted">📅 21st June 2025</p>
        <p>Morning yoga session at Marine Drive — free mats and refreshments provided.</p>
      </a>
    </div>

    <div class="cta" style="margin-top:18px">
      <a class="btn primary"
         href="Announcements.html"
         target="_self" rel="nofollow">Open full Announcements page →</a>
    </div>
  </div>
</section>




  <!-- WHY CHOOSE US -->
  <section id="why">
    <div class="wrap">
      <h2 class="section-title">Why Choose <strong>FitIndia.pro</strong> Over Others?</h2>
      <div class="grid3">
        <div class="card">
          <h3>1. Made for Busy Indians</h3>
          <p>Tailored to Indian lifestyles, diets, and routines — not just western calorie models.</p>
          <p>Meal plans include <em>roti–sabzi, dal–chawal, idli, dosa, parathas, chaats</em> — not just salads and quinoa.</p>
          <p>Focus on realistic, home-cooked food swaps, not expensive imports.</p>
        </div>
        <div class="card">
          <h3>2. Evidence-Based, Not Trend-Based</h3>
          <p>Guided by clinical nutrition experts (not influencers).</p>
          <p>30-day structured plan with BMI & WHR calculators, step goals, and wellbeing tips.</p>
          <p>Designed to help prevent lifestyle diseases (diabetes, PCOS, heart risk) alongside weight.</p>
        </div>
        <div class="card">
          <h3>3. Simple & Practical</h3>
          <p>Day-wise plan with weekly targets (clear, small wins).</p>
          <p>WhatsApp nudges & reminders (no app clutter).</p>
          <p>Free AI calorie tracker from meal photos — perfect for office lunches & tiffins.</p>
        </div>
      </div>
      <div class="grid3" style="margin-top:16px">
        <div class="card">
          <h3>4. Affordability & Accessibility</h3>
          <p>Free BMI & WHR calculators with no paywall.</p>
          <p>Low-cost consultations with Indian dieticians — not premium subscriptions.</p>
          <p>Light, mobile-first design works well even in tier-2 & tier-3 cities.</p>
        </div>
        <div class="card">
          <h3>5. Community & First-Mover</h3>
          <p>Local 7-day & 30-day challenge groups to keep motivation high.</p>
          <p>India’s first obesity-focused HCP + patient ecosystem.</p>
          <p>Roadmap to connect with pharma, fitness & preventive care partners.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- TESTIMONIALS -->
  <section id="testimonials">
    <div class="wrap">
      <h2 class="section-title">What Users Say</h2>
      <div class="t-wrap">
        <div class="t-track" aria-label="Testimonials carousel">
          <figure class="t-card"><blockquote>“The weekly goals kept me consistent. Lost 3.1 kg in a month without starving.”</blockquote><figcaption>— Riya, Mumbai</figcaption></figure>
          <figure class="t-card"><blockquote>“Loved the Indian meal swaps and the WHR tips. Super practical.”</blockquote><figcaption>— Karthik, Bengaluru</figcaption></figure>
          <figure class="t-card"><blockquote>“Coach nudges on WhatsApp were game-changers for my routine.”</blockquote><figcaption>— Sana, Pune</figcaption></figure>
          <figure class="t-card"><blockquote>“The 30-day plan fit my office schedule perfectly.”</blockquote><figcaption>— Abhishek, Delhi</figcaption></figure>
          <figure class="t-card"><blockquote>“Vegetarian protein ideas helped me hit my macros easily.”</blockquote><figcaption>— Ananya, Ahmedabad</figcaption></figure>
          <figure class="t-card"><blockquote>“Down 5 cm on waist in 4 weeks. Clear, doable steps.”</blockquote><figcaption>— Rohit, Indore</figcaption></figure>
        </div>
        <div class="t-nav" aria-hidden="true">
          <button class="t-btn prev" type="button" aria-label="Previous testimonial">‹</button>
          <button class="t-btn next" type="button" aria-label="Next testimonial">›</button>
        </div>
        <div class="t-dots" aria-hidden="true"></div>
      </div>
    </div>
  </section>
  <!-- FAQ -->
  <section id="faq">
    <div class="wrap">
      <h2 class="section-title">FAQs</h2>
      <details class="faq-item">
        <summary>Is this suitable for vegetarians or diabetics?</summary>
        <div class="answer"><p>Yes, plans adapt to dietary preferences and conditions including diabetes and PCOS.</p></div>
      </details>
      <details class="faq-item">
        <summary>Do I need to pay to try the calculators?</summary>
        <div class="answer"><p>No, BMI and WHR calculators are free.</p></div>
      </details>
          </div>
  </section>

  <!-- PLAN OUTPUT (shown only after auth) -->
  <section id="plan">
    <div class="wrap">
      <h2 class="section-title"><span class="dot"></span>Your 30-Day Plan</h2>
      <div id="advice" class="muted" style="margin-bottom:10px"></div>
      <div id="range" class="pill" style="margin-bottom:12px"></div>
      <h3>Weekly Goals</h3>
      <ul id="weeklyGoals" style="line-height:1.6"></ul>
      <h3 style="margin-top:14px">Day-wise Plan</h3>
      <div id="daywise"></div>
      <div class="cta" style="margin-top:12px">
        <button class="btn" id="download" type="button">Download Plan (TXT)</button>
      </div>
    </div>
  </section>

  <!-- FOOTER with socials -->
  <footer>
    <div class="wrap foot">
      <div>
        <h3 style="margin:0 0 8px">FitIndia.pro</h3>
        <p>Your partner in evidence-based weight care.</p>
      </div>
      <div>
        <h4>Pages</h4>
        <ul style="list-style:none;padding:0;line-height:1.9">
          <li><a id="openAboutF" href="about-us.html" target="_self">About Us</a></li>
          <li><a id="openServicesF" href="services.html" target="_self">Services</a></li>
  <li><a id="AnnouncementsTop" href="Announcements.html" target="_self">Announcements</a></li>
        </ul>
      </div>
      <div>
        <h4>Follow us</h4>
        <div class="social">
          <a href="https://instagram.com/fitindia.pro" target="_blank" rel="noopener">📸 Instagram</a>
          <a href="https://www.linkedin.com/company/fitindia-pro" target="_blank" rel="noopener">💼 LinkedIn</a>
          <a href="https://facebook.com/fitindia.pro" target="_blank" rel="noopener">📘 Facebook</a>
          <a href="https://wa.me/0000000000" target="_blank" rel="noopener">💬 WhatsApp</a>
        </div>
      </div>
    </div>
    <div class="wrap credit">© <span id="year"></span> FitIndia.pro • All rights reserved.</div>
  </footer>

  <!-- AUTH DIALOG (Login + Sign Up) -->
  

  <!-- =================== SCRIPTS =================== -->
  <script>
    // Footer year
    (()=>{ const y=document.getElementById('year'); if(y) y.textContent=new Date().getFullYear(); })();

    // Detect native <dialog>.showModal support
    const hasShowModal = !!document.createElement('dialog').showModal;

    /* ---------- FAQ: keep one open at a time ---------- */
    (()=>{
      const faq=document.querySelector('#faq');
      if(!faq) return;
      faq.addEventListener('toggle',(e)=>{
        const opened=e.target;
        if(opened.tagName!=='DETAILS' || !opened.open) return;
        [...faq.querySelectorAll('details.faq-item')]
          .filter(d=>d!==opened && d.open)
          .forEach(d=>d.open=false);
      },true);
    })();

    /* ---------- Testimonials carousel ---------- */
    (()=>{
      const root=document.querySelector('#testimonials'); if(!root) return;
      const track=root.querySelector('.t-track'); const cards=Array.from(track?.children||[]);
      const prev=root.querySelector('.t-btn.prev'); const next=root.querySelector('.t-btn.next'); const dotsWrap=root.querySelector('.t-dots');
      if(!track || !cards.length || !dotsWrap) return;
      cards.forEach((_,i)=>{ const d=document.createElement('i'); d.className='t-dot'+(i===0?' active':''); d.dataset.idx=i; dotsWrap.appendChild(d); });
      function activeIndex(){ let min=Infinity, idx=0; cards.forEach((c,i)=>{ const dist=Math.abs(c.offsetLeft - track.scrollLeft); if(dist<min){min=dist; idx=i;} }); return idx; }
      function setActiveDot(){ const idx=activeIndex(); dotsWrap.querySelectorAll('.t-dot').forEach((dot,i)=> dot.classList.toggle('active', i===idx)); }
      function snapTo(i){ const card=cards[(i+cards.length)%cards.length]; track.scrollTo({left:card.offsetLeft, behavior:'smooth'}); }
      prev?.addEventListener('click',()=>snapTo(activeIndex()-1));
      next?.addEventListener('click',()=>snapTo(activeIndex()+1));
      dotsWrap.addEventListener('click',(e)=>{ const dot=e.target.closest('.t-dot'); if(dot) snapTo(parseInt(dot.dataset.idx,10)); });
      track.addEventListener('scroll',()=>{ requestAnimationFrame(setActiveDot); });
      let timer=setInterval(()=> next?.click(), 4000);
      track.addEventListener('pointerenter',()=> clearInterval(timer));
      track.addEventListener('pointerleave',()=> timer=setInterval(()=> next?.click(), 4000));
      setActiveDot();
    })();

    /* ---------- Dialog helpers (native + fallback) ---------- */
    function openDialogById(id){
      const dlg=document.getElementById(id); if(!dlg) return;
      if(hasShowModal && typeof dlg.showModal==='function'){ dlg.showModal(); return; }
      dlg.setAttribute('open','');
      const bg=document.createElement('div'); bg.className='dlg-backdrop'; bg.dataset.for=id; document.body.appendChild(bg);
      bg.addEventListener('click',()=> closeDialogByEl(dlg));
    }
    function closeDialogByEl(dlg,value){
      if(!dlg) return;
      if(hasShowModal && typeof dlg.close==='function'){ dlg.close(value||''); return; }
      dlg.removeAttribute('open');
      const bg=document.querySelector('.dlg-backdrop[data-for="'+dlg.id+'"]') || document.querySelector('.dlg-backdrop');
      if(bg) bg.remove();
      dlg.returnValue = value || '';
      dlg.dispatchEvent(new Event('close')); // simulate close event in fallback
    }

    /* ---------- Navigation helpers ---------- */
    function gotoAnchorHref(anchorId){ const a=document.getElementById(anchorId); if(!a) return; const href = a.getAttribute('href'); window.location.assign(href); }
    function bindNav(id,handler){ const el=document.getElementById(id); el?.addEventListener('click',(e)=>{ e.preventDefault(); handler(); }); }

    // Home scroll
    bindNav('homeTop', ()=> window.scrollTo({top:0,behavior:'smooth'}));

    // Top bar pages
    bindNav('aboutTop',      ()=> gotoAnchorHref('aboutTop'));
    bindNav('servicesTop',   ()=> gotoAnchorHref('servicesTop'));
    bindNav('announcementsTop', ()=> gotoAnchorHref('announcementsTop'));


    // Footer pages
    bindNav('openAboutF',      ()=> gotoAnchorHref('openAboutF'));
    bindNav('openServicesF',   ()=> gotoAnchorHref('openServicesF'));
    bindNav('openannouncementsF', ()=> gotoAnchorHref('openannouncementsF'));


// --- HERO BUTTONS (production) ---
document.getElementById('openBMI')?.addEventListener('click', () => {
  window.location.assign('Bmi-cal.html');
});
document.getElementById('openwhr')?.addEventListener('click', () => {
  window.location.assign('WHR.html');
});

    /* ---------- AUTH (Login / Signup UI + validation + session + redirect) ---------- */
    (()=>{
      const dlg=document.getElementById('authDlg'); if(!dlg) return;
      const authTitle=document.getElementById('authTitle');
      const tabLogin=document.getElementById('tabLogin');
      const tabSignup=document.getElementById('tabSignup');
      const loginPane=document.getElementById('loginPane');
      const signupPane=document.getElementById('signupPane');
      const linkToSignup=document.getElementById('linkToSignup');
      const linkToLogin=document.getElementById('linkToLogin');
      const authError=document.getElementById('authError');
      const loginEmail=document.getElementById('loginEmail');
      const loginPwd=document.getElementById('loginPwd');
      const suName=document.getElementById('suName');
      const suEmail=document.getElementById('suEmail');
      const suPwd=document.getElementById('suPwd');
      const suPwd2=document.getElementById('suPwd2');
      const loginSubmit=document.getElementById('loginSubmit');
      const signupSubmit=document.getElementById('signupSubmit');

      function showLogin(){ authTitle.textContent='Login'; loginPane.style.display='block'; signupPane.style.display='none'; tabLogin.classList.add('primary'); tabSignup.classList.remove('primary'); tabLogin.setAttribute('aria-selected','true'); tabSignup.removeAttribute('aria-selected'); clearError(); }
      function showSignup(){ authTitle.textContent='Sign Up'; loginPane.style.display='none'; signupPane.style.display='block'; tabSignup.classList.add('primary'); tabLogin.classList.remove('primary'); tabSignup.setAttribute('aria-selected','true'); tabLogin.removeAttribute('aria-selected'); clearError(); }
      function setError(msg){ authError.textContent=msg; authError.style.display='inline-block'; }
      function clearError(){ authError.style.display='none'; authError.textContent=''; }

      tabLogin.addEventListener('click', showLogin);
      tabSignup.addEventListener('click', showSignup);
      linkToSignup.addEventListener('click',(e)=>{ e.preventDefault(); showSignup(); });
      linkToLogin.addEventListener('click',(e)=>{ e.preventDefault(); showLogin(); });

      const KEY='fitindia_users';
      const hash=(s)=> btoa(unescape(encodeURIComponent(s)));
      const getUsers=()=>{ try{ return JSON.parse(localStorage.getItem(KEY)) || []; } catch { return []; } };
      const setUsers=(list)=> localStorage.setItem(KEY, JSON.stringify(list));

      // LOGIN
      loginSubmit.addEventListener('click',(e)=>{
        clearError();
        const email=(loginEmail.value||'').trim().toLowerCase();
        const pwd=loginPwd.value||'';
        if(!email || !pwd){ e.preventDefault(); setError('Please enter email and password.'); return; }
        const users=getUsers();
        const u=users.find(x=> x.email===email);
        if(!u || u.hash!==hash(pwd)){ e.preventDefault(); setError('Invalid email or password.'); return; }
        lastAuthEmail = email;
        if(!hasShowModal){ e.preventDefault(); closeDialogByEl(dlg,'ok'); }
      });

      // SIGNUP
      signupSubmit.addEventListener('click',(e)=>{
        clearError();
        const name=(suName.value||'').trim();
        const email=(suEmail.value||'').trim().toLowerCase();
        const pwd=suPwd.value||'';
        const pwd2=suPwd2.value||'';
        if(!name || !email || !pwd || !pwd2){ e.preventDefault(); setError('Please fill all fields.'); return; }
        if(pwd.length<8){ e.preventDefault(); setError('Password must be at least 8 characters.'); return; }
        if(pwd!==pwd2){ e.preventDefault(); setError('Passwords do not match.'); return; }
        const users=getUsers();
        if(users.some(x=> x.email===email)){ e.preventDefault(); setError('Account already exists. Try logging in.'); return; }
        users.push({ email, name, hash:hash(pwd) }); setUsers(users);
        lastAuthEmail = email;
        if(!hasShowModal){ e.preventDefault(); closeDialogByEl(dlg,'ok'); }
      });

      // Open dialog
openDialogById('authDlg');});

      // Session + redirect when dialog closes with value="ok"
      let lastAuthEmail=null;
      dlg.addEventListener('close',()=>{
        if(dlg.returnValue==='ok' && lastAuthEmail){
          localStorage.setItem('fitindia_session', JSON.stringify({ email:lastAuthEmail, ts:Date.now() }));
          window.location.assign('dashboard.html');
        } else { lastAuthEmail=null; }
        showLogin(); // reset tab state
      });

      // ESC closes any open dialog (native + fallback)
      document.addEventListener('keydown',(e)=>{ if(e.key==='Escape'){ const openDlg=document.querySelector('dialog[open]'); if(openDlg) closeDialogByEl(openDlg); } });
    })();

    /* ---------- Session-aware CTA ---------- */
    (()=>{
      try{
        const session=JSON.parse(localStorage.getItem('fitindia_session')||'null');
        if(session?.email){
          const btn=document.getElementById('openAuth');
          if(btn){
            btn.textContent='Go to Dashboard';
            btn.onclick=()=> window.location.assign('dashboard.html');
          }
        }
      }catch{}
    })();
  </script>
</body>
</html>
