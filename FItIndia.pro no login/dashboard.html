<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>FitIndia.pro â€” Dashboard</title>
<style>
  :root{ --white:#ffffff; --ink:#0f172a; --muted:#475569; --line:#e5e7eb; --blue:#2563eb; --green:#10b981; --orange:#f97316; --yellow:#fde047;--blue:#6991ff; }
  *{box-sizing:border-box} html,body{height:100%}
  body{margin:0;background:#fff;color:var(--ink);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Helvetica,Arial,sans-serif}
  a{color:inherit;text-decoration:none}
  img{max-width:100%;height:auto}
  .wrap{max-width:1140px;margin:0 auto;padding:0 20px}

  /* NAV */
  .nav{position:sticky; top:0; background:#fff; border-bottom:1px solid var(--line); z-index:90; height:60px;}
  .nav-inner{height:100%; display:flex; align-items:center; justify-content:space-between; gap:12px;}
  .brand-logo{ position:relative; height:100%; width:15%; display:block; }
  .brand-logo img{ position:absolute; top:50%; left:0; right:0; transform:translateY(-50%); height:60px; width:auto; display:block; }

  .tabs{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
  .tabs a{padding:8px 10px;border-radius:10px;color:var(--muted);font-weight:700;line-height:1}
  .tabs a:hover{background:#f8fafc;color:#0b1324}
  .tabs a.active{background:#eef2ff;color:#0b1324}

  .btn{padding:10px 14px;border-radius:12px;border:1px solid var(--line);background:#fff;font-weight:800;cursor:pointer}
  .btn.primary{background:linear-gradient(90deg,var(--ink));color:#ffffff;border:0}

  /* Tools dropdown styled like other links */
  .dropdown{position:relative;display:inline-block}
  .dropbtn{display:inline-block;padding:8px 10px;border-radius:10px;color:var(--muted);font-weight:700;text-decoration:none}
  .dropbtn:hover{background:#f8fafc;color:#0b1324}
  .dropdown-content{display:none;position:absolute;top:100%;left:0;background:#fff;min-width:140px;box-shadow:0 4px 8px rgba(0,0,0,.1);border:1px solid var(--line);border-radius:8px;z-index:999}
  .dropdown-content a{display:block;padding:8px 12px;color:var(--muted);font-weight:600;border-radius:6px}
  .dropdown-content a:hover{background:#f8fafc;color:#0b1324}
  .dropdown:hover .dropdown-content{display:block}

  header{background:linear-gradient(180deg,#fff,var(--blue) 100%);padding:24px 0;border-bottom:1px solid var(--line)}
  h1{margin:0 0 6px}
  #subline{margin:0;color:#475569}

  .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin:16px 0}
  @media(max-width:900px){.grid{grid-template-columns:1fr}}

  .card{background:#fff;border:1px solid var(--line);border-radius:16px;padding:16px}
  .pill{display:inline-block;padding:6px 10px;border-radius:999px;background:#f8fafc;border:1px solid var(--line);font-weight:700;color:var(--muted)}

  footer{background:#0b1324;color:#dbeafe;margin-top:30px}
  .foot{display:grid;grid-template-columns:2fr 1fr 1fr;gap:20px;padding:28px 0}
  @media(max-width:900px){.foot{grid-template-columns:1fr}}
  .credit{border-top:1px solid #172554;padding:12px 0;color:#9db2d8}

  /* small lists */
  .list{display:flex;flex-direction:column;gap:10px}
  .item{padding:10px;border:1px solid var(--line);border-radius:10px}
  .empty{color:#64748b}

</style>
</head>
<body>

<!-- NAV -->
<nav class="nav" aria-label="Primary">
  <div class="wrap nav-inner">
    <a href="index.html" class="brand-logo" aria-label="FitIndia Home">
      <img src="img/Fit-India-Logo.png" alt="FitIndia.pro logo">
    </a>

    <div class="tabs" role="navigation" aria-label="Primary links">
      <a id="homeTop" href="index.html">Home</a>
      <a id="servicesTop" href="services.html">Services</a>
      <a id="AnnouncementsTop" href="Announcements.html">Announcements</a>

      <!-- Tools dropdown -->
      <div class="dropdown">
        <a href="#" class="dropbtn">Tools â–¾</a>
        <div class="dropdown-content">
          <a id="navBMI" href="Bmi-cal.html">BMI</a>
          <a id="navWHR" href="WHR.html">WHR</a>
        </div>
      </div>

      <a id="aboutTop" href="about-us.html">About Us</a>
    </div>

    <div class="cta">
      <!-- dashboard page shows Logout (id must exist for JS) -->
      
    </div>
  </div>
</nav>

<header>
  <div class="wrap">
    <h1 id="hello">Dashboard</h1>
    <p id="subline"></p>
  </div>
</header>

<main class="wrap">

  <!-- Quick launch cards (keep) -->
  <div class="grid" style="margin-top:20px">
    <div class="card">
      <h3>Start with BMI</h3>
      <p>Calculate your BMI and get tailored ranges.</p>
      <button class="btn primary" onclick="location.assign('Bmi-cal.html')">Open BMI</button>
    </div>
    <div class="card">
      <h3>Check WHR</h3>
      <p>Measure waistâ€“hip ratio for central obesity risk.</p>
      <button class="btn primary" onclick="location.assign('WHR.html')">Open WHR</button>
    </div>
     </div>

  <!-- KPIs that dashboard.js will fill (#kpiRow) -->
  <div class="card">
    <h3>Your Key Numbers</h3>
    <div id="kpiRow" class="grid" style="grid-template-columns:repeat(4,1fr)"></div>
  </div>

  <!-- Plan (dashboard.js fills #planList) -->
  <div class="card">
    <h3>Todayâ€™s Plan</h3>
    <div id="planList" class="list"></div>
  </div>

  <!-- Recommendations (dashboard.js fills #recoList) -->
  <div class="card">
    <h3>Recommendations</h3>
    <div id="recoList" class="list"></div>
  </div>

  <!-- Live / Sessions (dashboard.js fills #sessionList) -->
  <div class="card">
    <h3>Upcoming Sessions</h3>
    <div id="sessionList" class="list"></div>
  </div>

  <!-- Your latest stats (keep your existing section too if you like) -->
  <div class="card" id="latestStats">
    <h3>Your Latest Stats</h3>
    <div class="grid" style="grid-template-columns:repeat(3,1fr)">
      <div class="stat-bmi">
        <div class="pill" id="bmiStat">BMI: â€”</div>
        <p class="muted" id="bmiMeta" style="margin:.5rem 0 0">No data yet. Try the BMI tool.</p>
      </div>
      <div class="stat-whr">
        <div class="pill" id="whrStat">WHR: â€”</div>
        <p class="muted" id="whrMeta" style="margin:.5rem 0 0">No data yet. Try the WHR tool.</p>
      </div>
         </div>
  </div>

</main>

<footer>
  <div class="wrap foot">
    <div>
      <h3 style="margin:0 0 8px">FitIndia.pro</h3>
      <p>Your partner in evidence-based weight care.</p>
    </div>
    <div>
      <h4>Pages</h4>
      <ul style="list-style:none;padding:0;line-height:1.9">
        <li><a href="about-us.html">About Us</a></li>
        <li><a href="services.html">Services</a></li>
        <li><a href="Announcements.html">Announcements</a></li>
      </ul>
    </div>
    <div>
      <h4>Session</h4>
      <p id="sessionEmail" style="margin:8px 0 0;color:#9db2d8"></p>
    </div>
  </div>
  <div class="wrap credit">Â© <span id="year"></span> FitIndia.pro â€¢ All rights reserved.</div>
</footer>


<!-- Minimal inline glue for year + route guard + latestStats (kept from yours) -->
<script>
function getSession(){ try{ return JSON.parse(localStorage.getItem('fitindia_session')||'null')||null }catch{ return null } }
function getSessionEmail(){ const s=getSession(); return s?.email||null; }
function METRIC_KEY(e){ return 'fitindia_metrics_'+e }
function loadMetrics(e){ try{ return JSON.parse(localStorage.getItem(METRIC_KEY(e))||'{}') }catch{ return {} } }

(function routeAndGreet(){
  const y=document.getElementById('year'); if(y) y.textContent=new Date().getFullYear();
  const session=getSession();
  if(!session?.email){ location.replace('index.html'); return; }
  const sessionEmailEl=document.getElementById('sessionEmail');
  if(sessionEmailEl) sessionEmailEl.textContent='Signed in as: '+session.email;

  // Optional: greet by stored name
  try{
    const users=JSON.parse(localStorage.getItem('fitindia_users')||'[]');
    const u=users.find(x=>x.email===session.email);
    if(u?.name){ document.getElementById('hello').textContent='Hi, '+u.name.split(' ')[0]+' ðŸ‘‹'; }
  }catch{}
})();
  e.preventDefault();

  location.href='index.html';
});

// Keep your Latest Stats hydrator
(function hydrateLatestStats(){
  const email=getSessionEmail(); if(!email) return;
  const data=loadMetrics(email);
  const when=(ts)=>ts?new Date(ts).toLocaleString():'';

  if(data.bmi){
    const el=document.getElementById('bmiStat'); if(el) el.textContent=`BMI: ${Number(data.bmi.value).toFixed(1)}${data.bmi.category?` (${data.bmi.category})`:''}`;
    const meta=document.getElementById('bmiMeta'); if(meta) meta.textContent=`H: ${data.bmi.height_cm} cm â€¢ W: ${data.bmi.weight_kg} kg â€¢ Updated: ${when(data.bmi.ts)}`;
  }
  if(data.whr){
    const el=document.getElementById('whrStat'); if(el) el.textContent=`WHR: ${Number(data.whr.value).toFixed(2)}${data.whr.risk?` (${data.whr.risk} risk)`:''}`;
    const meta=document.getElementById('whrMeta'); if(meta) meta.textContent=`Waist: ${data.whr.waist_cm} cm â€¢ Hip: ${data.whr.hip_cm} cm â€¢ Updated: ${when(data.whr.ts)}`;
  }

})();
</script>
</body>
</html>
	